"use strict";var nn=Object.create;var Ue=Object.defineProperty;var sn=Object.getOwnPropertyDescriptor;var on=Object.getOwnPropertyNames;var an=Object.getPrototypeOf,cn=Object.prototype.hasOwnProperty;var ln=(s,r)=>{for(var e in r)Ue(s,e,{get:r[e],enumerable:!0})},Mt=(s,r,e,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of on(r))!cn.call(s,n)&&n!==e&&Ue(s,n,{get:()=>r[n],enumerable:!(t=sn(r,n))||t.enumerable});return s};var p=(s,r,e)=>(e=s!=null?nn(an(s)):{},Mt(r||!s||!s.__esModule?Ue(e,"default",{value:s,enumerable:!0}):e,s)),pn=s=>Mt(Ue({},"__esModule",{value:!0}),s);var vn={};ln(vn,{default:()=>tn});module.exports=pn(vn);var Ce=p(require("chalk"),1),Qr=p(require("concat-stream"),1),Ie=p(require("lodash"),1),qr=require("vscode-oniguruma"),Gr=p(require("yargs"),1),Zr=require("fs"),Yr=p(require("os"),1),en=require("yargs/helpers");var wt="blade-formatter";var Jt="1.44.2";var Se=p(require("fs"),1),X=p(require("path"),1),P=p(require("process"),1),zt=p(require("util"),1),L=p(require("chalk"),1),Nt=p(require("find-config"),1),Vr=require("glob"),Kr=p(require("ignore"),1),z=p(require("lodash"),1);var Be=class extends Error{};var Wr=p(require("detect-indent"),1),E=p(require("lodash"),1),wn=p(require("vscode-textmate"),1);var mn={defaultPrintWidth:120},Pt=mn;var Ut=p(require("lodash"),1);var v="\\(((?:[^)(]+|\\((?:[^)(]+|\\((?:[^)(]+|\\((?:[^)(]+|\\([^)(]*\\))*\\))*\\))*\\))*)\\)?";var h=class{constructor(r){this.formatter=r}};var Re=class extends h{constructor(){super(...arguments);this.bladeComments=[]}async preProcess(e){}async postProcess(e){return await this.adjustSpaces(e)}async adjustSpaces(e){let t=["@unless"];return Ut.default.replace(e,new RegExp(`(?<!@)(${t.join("|")})\\s*${v}`,"gi"),(n,i,o)=>`${i} (${o})`)}};var yr=p(require("detect-indent"),1),ke=p(require("lodash"),1),_r=p(require("string-replace-async"),1);var rr=p(require("fs"),1),nr=p(require("os"),1),Ye=p(require("@prettier/plugin-php/standalone"),1),Ze=p(require("chalk"),1),ir=p(require("detect-indent"),1),xt=p(require("js-beautify"),1),_=p(require("lodash"),1),De=p(require("prettier/standalone"),1),sr=p(require("string-replace-async"),1);var Ee=p(require("lodash"),1),Q="@",S=["@alert","@pushonce","@push","@slot","@switch","@unless","@verbatim","@prependonce","@prepend","@once","@error","@empty","@guest","@isset","@permission","@permissions","@canany","@cannot","@can","@role","@hasrole","@hasanyrole","@hasallroles","@unlessrole","@hasexactroles","@if","@production","@env","@while","@auth","@forelse","@for","@foreach","@php","@component","@section","@customdirective"],Vt=Ee.default.map(S,s=>s.substring(1)),D=["@endalert","@endpushonce","@endpush","@endslot","@endswitch","@endunless","@endverbatim","@show","@stop","@endprependonce","@endprepend","@endonce","@enderror","@append","@overwrite","@endempty","@endguest","@endisset","@endpermission","@endpermissions","@endcanany","@endcannot","@endcan","@endrole","@endhasrole","@endhasanyrole","@endhasallroles","@endunlessrole","@endhasexactroles","@endif","@endproduction","@endenv","@endwhile","@endauth","@endforelse","@endforeach","@endfor","@endphp","@endcomponent","@endsection","@endcustomdirective"],k=["@elseenv","@elseguest","@elseauth","@elseif","@elsecanany","@elsecannot","@elsecan","@else","@elsecustomdirective"],vt={"@section":2,"@push":2,"@prepend":2,"@slot":2},Kt=["@forelse","@if"],Ve=["@empty"],Qt=["@default"],J=["@forelse","@if","@for","@foreach","@while","@sectionmissing","@case"],Ke=["@endforelse","@endif","@endforeach","@endfor","@endwhile","@break"],bt=["@button","@class","@include","@disabled","@checked","@json"],U=["@set","@json","@js","@selected","@checked","@disabled","@php","@include","@includeif","@includewhen","@includeunless","@includefirst","@button","@class","@props","@aware"],qt=["@if","@while","@case","@isset","@empty","@elseif","@component","@hassection","@unless"],q=["@hassection"],Le=["@charset","@color-profile","@counter-style","@font-face","@font-feature-values","@import","@keyframes","@media","@namespace","@page","@property","@supports"];function Gt(s,r){return Ee.default.filter(s.tokens,e=>{let t=r.substring(e.startIndex,e.endIndex).trim();return Ee.default.includes(S,t)||Ee.default.includes(D,t)}).length>=2}var Zt=require("fs"),Yt=p(require("path"),1),er=p(require("lodash"),1),Qe=p(require("vscode-oniguruma"),1);var qe=class{constructor(r,e){return(async()=>{var t;return this.vsctm=(t=r.default)!=null?t:r,this.oniguruma=e||(Qe==null?void 0:Qe.default)||Qe,await this.loadWasm(),this})()}async loadWasm(){var e;let r=await Zt.promises.readFile(require.resolve("vscode-oniguruma/release/onig.wasm"));if(await((e=this.oniguruma)==null?void 0:e.loadWASM(r.buffer)),!this.initCalled){try{this.oniguruma.loadWASM(r.buffer)}catch{this.initCalled=!0}this.initCalled=!0}}createRegistry(){return this.registry=new this.vsctm.Registry({loadGrammar:r=>r==="text.html.php.blade"?Ge(Yt.default.resolve(__dirname,"../syntaxes/blade.tmLanguage.json")).then(e=>this.vsctm.parseRawGrammar(e.toString(),"./blade.tmLanguage.json")):null,onigLib:Promise.resolve({createOnigScanner:r=>new this.oniguruma.OnigScanner(r),createOnigString:r=>new this.oniguruma.OnigString(r)})}),this.registry}tokenizeLines(r,e){return er.default.map(r,t=>{var n;return e.tokenizeLine(t,(n=this.vsctm)==null?void 0:n.INITIAL)})}};var f=s=>{let r={get(){return null}};return _.default.isUndefined(s)||_.default.isNull(s)?r:s};async function Ge(s){return new Promise((r,e)=>{rr.default.readFile(s,(t,n)=>t?e(t):r(n))})}function et(s){return s?s.split(/\r\n|\n|\r/):""}var O=1e3,or={noPhpSyntaxCheck:!1,printWidth:O,trailingCommaPHP:!0,phpVersion:"8.4",noSingleQuote:!1};async function j(s,r={}){var i;let e={...or,...r},t=(i=r.adjustPrintWidthBy)!=null?i:0,n=r.useProjectPrintWidth?e.printWidth-t:O;try{return await De.format(s.replace(/\n$/,""),{parser:"php",printWidth:n,singleQuote:!e.noSingleQuote,phpVersion:e.phpVersion,trailingCommaPHP:e.trailingCommaPHP,plugins:[Ye.default]})}catch(o){if(ar(o))throw o;if(e.noPhpSyntaxCheck)return s;throw o}}async function C(s,r={}){let e={...or,...r};try{return(await De.format(`<?php echo ${s} ?>`,{parser:"php",printWidth:e.printWidth,singleQuote:!e.noSingleQuote,phpVersion:e.phpVersion,trailingCommaPHP:e.trailingCommaPHP,plugins:[Ye.default]})).replace(/<\?php echo (.*)?\?>/gs,(t,n)=>n.trim().replace(/;\s*$/,""))}catch(t){if(ar(t))throw t;if(e.noPhpSyntaxCheck)return s;throw t}}function ar(s){return s.message.includes("Invalid phpVersion value. Expected one of the following values")}async function cr(s,r){let e=`<?php tmp_func${s}; ?>`;try{let{ast:t}=await De.__debug.parse(e,{parser:"php",phpVersion:r.phpVersion,plugins:[Ye.default]});return t.children[0].expression.arguments.length||0}catch{return 0}}function lr(s){return Promise.all(_.default.map(s,async r=>{process.stdout.write(`path: ${Ze.default.bold(r.path)}:${r.line}
`),process.stdout.write(Ze.default.red(`--${r.original}
`)),process.stdout.write(Ze.default.green(`++${r.formatted}
`))}))}function pr(s,r,e){let t=_.default.map(r,(n,i)=>_.default.isEmpty(n)||n===e[i]?null:{path:s,line:i+1,original:n,formatted:e[i]});return _.default.without(t,null)}async function dn(s,r){let e=_.default.without(S,"@switch","@forelse","@php").join("|"),t=new RegExp(`(?!\\/\\*.*?\\*\\/)(${e})(\\s*?)${v}`,"gmi");return new Promise(n=>n(s)).then(n=>(0,sr.default)(n,t,async(i,o,a,c)=>(await j(`<?php ${o.substr("1")}${a}(${c}) ?>`,r)).replace(/<\?php\s(.*?)(\s*?)\((.*?)\);*\s\?>\n/gs,(l,m,d,u)=>`@${m.trim()}${d}(${u.trim()})`).replace(/([\n\s]*)->([\n\s]*)/gs,"->").replace(/,\)$/,")").replace(/(?:\n\s*)* as(?= (?:&{0,1}\$[\w]+|list|\[\$[\w]+))/g," as"))).then(n=>j(n,r))}async function mr(s,r){return dn(s,r)}function $t(s){let r=_.default.without(J,"@case"),e=_.default.without(Ke,"@break");return new Promise(t=>t(s)).then(t=>{let n=new RegExp(`(${r.join("|")})([\\s]*?)${v}`,"gis");return _.default.replace(t,n,(i,o,a,c)=>`<beautifyTag start="${o}${a}" exp="^^^${_.default.escape(c)}^^^">`)}).then(t=>{let n=new RegExp(`(?!end=".*)(${e.join("|")})(?!.*")`,"gi");return _.default.replace(t,n,(i,o)=>`</beautifyTag end="${o}">`)})}function St(s){return new Promise(r=>r(s)).then(r=>_.default.replace(r,/<beautifyTag.*?start="(.*?)".*?exp=".*?\^\^\^(.*?)\^\^\^.*?"\s*>/gs,(e,t,n)=>`${t}(${_.default.unescape(n)})`)).then(r=>_.default.replace(r,/<\/beautifyTag.*?end="(.*?)"\s*>/gs,(e,t)=>`${t}`))}var un=["/\\*\\* phptag_start \\*\\*/","/\\*\\* end_phptag \\*\\*/","/\\*escaped\\*/","__BLADE__;","/\\* blade_comment_start \\*/","/\\* blade_comment_end \\*/","/\\*\\*\\*script_placeholder\\*\\*\\*/","blade___non_native_scripts_","blade___scripts_","blade___html_tags_","beautifyTag","@customdirective","@elsecustomdirective","@endcustomdirective","x-slot --___\\d+___--","___attrs_+\\d+___"];function hr(s){if(new RegExp(un.join("|")).test(s))throw new Error(["Can't format blade: something goes wrong.","Please check if template is too complicated or not. Or simplify template might solves issue."].join(`
`));return s}function Ct(s){return s.replace(/\$/g,"$$$$")}function dr(s){switch(s){case"LF":return`
`;case"CRLF":return`\r
`;default:return nr.default.EOL}}function b(s){return _.default.split(s,`
`).length===1}function A(s,r,e){if(_.default.isEmpty(s.indent))return r;if(b(r))return`${r}`;let n=s.amount/e.indentSize,i=e.indentCharacter.repeat(n<0?0:n*e.indentSize),o=r.split(`
`);return _.default.chain(o).map((a,c)=>c===0?a.trim():i+a).value().join(`
`)}function tt(s,r,e){if(_.default.isEmpty(s.indent))return r;if(b(r))return`${r}`;let n=s.amount/e.indentSize,i=e.indentCharacter.repeat(n<0?0:n*e.indentSize),o=r.split(`
`),a=!1;return _.default.chain(o).map((c,l)=>l===0?c.trim():c.trim().startsWith("*")?c.trim().endsWith("*/")&&a?c:i+c:(a=!0,c)).join(`
`).value()}async function ur(s,r,e,t=void 0){let n=`func(${s})`,i=await C(n,{...e.options,printWidth:t!=null?t:e.defaultPhpFormatOption.printWidth});if(i===n)return s;let o=i.replace(/([\n\s]*)->([\n\s]*)/gs,"->").replace(/(?<!(['"]).*)(?<=\()[\n\s]+?(?=\w)/gm,"").replace(/(.*)],[\n\s]*?\)$/gm,(a,c)=>`${c}]
)`).replace(/,[\n\s]*?\)/gs,")").replace(/,(\s*?\))$/gm,(a,c)=>c).trim();return e.options.useTabs&&(o=_.default.replace(o,/(?<=^ *) {4}/gm,"	".repeat(e.indentSize))),o=o.replace(/func\((.*)\)/gis,(a,c)=>c),b(o.trim())&&(o=o.trim()),A(r,o,e)}function gr(s,r,e){if(_.default.isEmpty(s.indent))return r;if(b(r))return`${s.indent}${r}`;let n=s.amount/e.indentSize,i=e.indentCharacter.repeat(n<0?0:n*e.indentSize),o=e.indentCharacter.repeat(n<0?0:n*e.indentSize),a=r.split(`
`);return _.default.chain(a).map((c,l)=>l===a.length-1?o+c:i+c).value().join(`
`)}async function rt(s,r){return(await j(`<?php${s}?>`,r.options)).trimRight().split(`
`).length>1}function nt(s,r,e){if(b(r))return`${s.indent}${r}`;let n=s.amount/e.indentSize,i=e.indentCharacter.repeat(n<0?0:(n+1)*e.indentSize),o=e.indentCharacter.repeat(n<0?0:n*e.indentSize),a=r.split(`
`);return _.default.chain(a).map((c,l)=>l===0?c.trim():l===a.length-1?o+c:c.length===0?c:i+c).join(`
`).value()}function M(s,r,e){if(_.default.isEmpty(s))return r;if(b(r))return`${r}`;if(b(r)&&/\S/.test(s))return`${r}`;let n=(0,ir.default)(s).amount/e.indentSize,i=e.indentCharacter.repeat(n<0?0:n*e.indentSize),o=r.split(`
`);return _.default.chain(o).map((a,c)=>c===0?a.trim():i+a).value().join(`
`)}function fr(s,r){let e={indent_size:f(r.options).indentSize||4,wrap_line_length:f(r.options).wrapLineLength||120,wrap_attributes:f(r.options).wrapAttributes||"auto",wrap_attributes_min_attrs:f(r.options).wrapAttributesMinAttrs,indent_inner_html:f(r.options).indentInnerHtml||!1,end_with_newline:f(r.options).endWithNewline||!0,max_preserve_newlines:f(r.options).noMultipleEmptyLines?1:void 0,extra_liners:f(r.options).extraLiners,css:{end_with_newline:!1},eol:r.endOfLine},t=new Promise(n=>n(s)).then(n=>$t(n)).then(n=>xt.default.html_beautify(n,e)).then(n=>St(n));return Promise.resolve(t)}async function it(s,r){r.currentIndentLevel=0,r.shouldBeIndent=!1;let e=et(s),t=await new qe(r.vsctm,r.oniguruma);return t.createRegistry().loadGrammar("text.html.php.blade").then(o=>t.tokenizeLines(e,o)).then(o=>r.formatTokenizedLines(e,o)).catch(o=>{throw o})}function st(s){let r=s,e={js:[],entangle:[]};for(let t of Object.keys(e))r=r.replace(new RegExp(`@${t}\\((?:[^)(]+|\\((?:[^)(]+|\\([^)(]*\\))*\\))*\\)`,"gs"),n=>{let i=e[t].push(n)-1;return tr(t,i,n.length)});r=xt.default.js_beautify(r,{brace_style:"preserve-inline"});for(let t of Object.keys(e))r=r.replace(new RegExp(tr(t,"_*(\\d+)"),"gms"),(n,i)=>e[t][i]);return r}function tr(s,r,e=null){if(e&&e>0){let t=`___${s}_#___`,n=e-t.length;return _.default.replace(`___${s}${_.default.repeat("_",n>0?n:1)}#___`,"#",r)}return _.default.isNull(e)?_.default.replace(`___${s}_#___`,"#",r):_.default.replace(`s___${s}_+?#___`,"#",r)}var G=class extends h{constructor(){super(...arguments);this.bladeBraces=[]}async preProcess(e){return await this.preserveBladeBrace(e)}async postProcess(e){return await this.restoreBladeBrace(e)}async preserveBladeBrace(e){return ke.default.replace(e,/\{\{(.*?)\}\}/gs,(t,n)=>n===""?this.storeBladeBrace(n,n.length):/\S/.test(n)?this.storeBladeBrace(n.trim(),n.trim().length):this.storeBladeBrace(" ",1))}async restoreBladeBrace(e){return new Promise(t=>t(e)).then(t=>(0,_r.default)(t,new RegExp(`${this.getBladeBracePlaceholder("(\\d+)")}`,"gm"),async(n,i)=>{var m;let o=this.getBladeBracePlaceholder(i.toString()),a=(m=e.match(new RegExp(`^(.*?)${o}`,"gmi")))!=null?m:[""],c=(0,yr.default)(a[0]),l=this.bladeBraces[i];return l.trim()===""?`{{${l}}}`:b(l)?`{{ ${(await C(l,{...this.formatter.options,trailingCommaPHP:!1,printWidth:O})).replace(/([\n\s]*)->([\n\s]*)/gs,"->").split(`
`).map(d=>d.trim()).join("").trimRight(`
`)} }}`:`{{ ${A(c,(await C(l,this.formatter.options)).replace(/([\n\s]*)->([\n\s]*)/gs,"->").trim().trimEnd(),this.formatter)} }}`}))}storeBladeBrace(e,t){let n=this.bladeBraces.push(e)-1;return this.getBladeBracePlaceholder(n,t+"{{  }}".length)}getBladeBracePlaceholder(e,t=0){if(t>0){let i=t-"___blade_brace_#___".length;return ke.default.replace(`___blade_brace_${ke.default.repeat("_",i>0?i:0)}#___`,"#",e)}return ke.default.replace("___blade_brace_+?#___","#",e)}};var ot=p(require("lodash"),1);var Z=class extends h{constructor(){super(...arguments);this.bladeComments=[]}async preProcess(e){return await this.preserveBladeComment(e)}async postProcess(e){return await this.restoreBladeComment(e)}async preserveBladeComment(e){return ot.default.replace(e,/\{\{--(.*?)--\}\}/gs,t=>this.storeBladeComment(t))}async restoreBladeComment(e){return new Promise(t=>t(e)).then(t=>ot.default.replace(t,new RegExp(`${this.getBladeCommentPlaceholder("(\\d+)")}`,"gms"),(n,i)=>this.bladeComments[i].replace(/{{--(?=\S)/g,"{{-- ").replace(/(?<=\S)--}}/g," --}}")))}storeBladeComment(e){return this.getBladeCommentPlaceholder(this.bladeComments.push(e)-1)}getBladeCommentPlaceholder(e){return ot.default.replace("___blade_comment_#___","#",e)}};var wr=p(require("aigle"),1),at=p(require("detect-indent"),1),w=p(require("lodash"),1);var Ae=p(require("string-replace-async"),1);var Y=class extends h{constructor(){super(...arguments);this.bladeDirectives=[];this.directivesInScript=[];this.rawBlocks=[];this.customDirectives=[];this.stringLiteralInPhp=[]}async preProcess(e){let t=await this.preserveBladeDirectiveInScripts(e);return this.bladeDirectives=await this.formatPreservedBladeDirectives(this.bladeDirectives),t}async postProcess(e){return await this.restoreBladeDirectiveInScripts(e)}async preserveBladeDirectiveInScripts(e){return w.default.replace(e,/(?<=<script[^>]*?(?<!=)>)(.*?)(?=<\/script>)/gis,t=>{let n=[...S,...U];if(new RegExp(n.join("|"),"gmi").test(t)===!1)return/^[\s\n]+$/.test(t)?t.trim():t;let i=U.join("|"),o=new RegExp(`(?!\\/\\*.*?\\*\\/)(${i})(\\s*?)${v}`,"gmi"),a=w.default.chain(D).without("@endphp"),c=t;return c=w.default.replace(c,o,l=>this.storeBladeDirective(C(l,{...this.formatter.options,printWidth:O}))),c=w.default.replace(c,new RegExp(`(${S.join("|")})\\s*?${v}`,"gis"),l=>`if ( /*${this.storeBladeDirectiveInScript(l)}*/ ) {`),c=w.default.replace(c,new RegExp(`(${[...k,...Ve].join("|")})(?!\\w+?\\s*?\\(.*?\\))`,"gis"),l=>`/***script_placeholder***/} /* ${this.storeBladeDirectiveInScript(l)} */ {`),c=w.default.replace(c,new RegExp(`(${a.join("|")})`,"gis"),l=>`/***script_placeholder***/} /*${this.storeBladeDirectiveInScript(l)}*/`),c=w.default.replace(c,/(?<!@)@php(.*?)@endphp/gis,(l,m)=>this.storeRawBlock(m)),c=this.preserveCustomDirectiveInScript(c),c})}preserveCustomDirectiveInScript(e){let t=[...w.default.without(S,"@unless"),...D,...k,"@unless\\(.*?\\)"].join("|"),n=[...w.default.without(S,"@unless"),...D,...k,...U,...J,"@unless[a-z]*\\(.*?\\)",...q].join("|"),i=new RegExp(`(?!(${n}))(@([a-zA-Z1-9_\\-]+))(?!.*?@end\\3)${v}.*?(?<!@end\\5)`,"gis"),o=new RegExp(`(?!(${t}))(@(unless)*([a-zA-Z1-9_\\-]+))(?!.*?\\2)(\\s|\\(.*?\\))+(.*?)(@end\\4)`,"gis"),a;return a=w.default.replace(e,i,c=>this.storeInlineCustomDirective(c)),a=w.default.replace(a,o,(c,l,m,d,u,g,y,x)=>{if(S.includes(m))return c;let $=c;return $=w.default.replace($,new RegExp(`${m}(${v})*`,"gim"),F=>`if ( /*${this.storeBladeDirectiveInScript(F)}*/ ) {`),$=w.default.replace($,new RegExp(`@else${u}(${v})*`,"gim"),F=>`/***script_placeholder***/} /* ${this.storeBladeDirectiveInScript(F)} */ {`),$=w.default.replace($,x,F=>`/***script_placeholder***/} /*${this.storeBladeDirectiveInScript(F)}*/`),$}),o.test(a)&&(a=this.preserveCustomDirectiveInScript(a)),a}async restoreBladeDirectiveInScripts(e){let t=new RegExp(`${this.getBladeDirectivePlaceholder("(\\d+)")}`,"gm"),n=w.default.replace(e,t,(i,o)=>{var m;let a=this.getBladeDirectivePlaceholder(o.toString()),c=(m=e.match(new RegExp(`^(.*?)${a}`,"gmi")))!=null?m:[""],l=(0,at.default)(c[0]);return gr(l,this.bladeDirectives[o],this.formatter)});return n=await this.restoreInlineCustomDirective(n),n=await(0,Ae.default)(n,/(?<=<script[^>]*?(?<!=)>)(.*?)(?=<\/script>)/gis,async i=>{let o=i;return o=w.default.replace(o,new RegExp(`if \\( \\/\\*(?:(?:${this.getBladeDirectiveInScriptPlaceholder("(\\d+)")}).*?)\\*\\/ \\) \\{`,"gis"),(a,c)=>`${this.directivesInScript[c]}`),o=w.default.replace(o,new RegExp(`} \\/\\* (?:${this.getBladeDirectiveInScriptPlaceholder("(\\d+)")}) \\*\\/ {(\\s*?\\(___directive_condition_\\d+___\\))?`,"gim"),(a,c,l)=>w.default.isUndefined(l)?`${this.directivesInScript[c].trim()}`:`${this.directivesInScript[c].trim()} ${(l!=null?l:"").trim()}`),o=w.default.replace(o,new RegExp(`} \\/\\*(?:${this.getBladeDirectiveInScriptPlaceholder("(\\d+)")})\\*\\/`,"gis"),(a,c)=>`${this.directivesInScript[c]}`),o=await(0,Ae.default)(o,new RegExp(`${this.getRawPlaceholder("(\\d+)")}`,"gm"),async(a,c)=>{var g;let l=this.rawBlocks[c],m=this.getRawPlaceholder(c.toString()),d=(g=e.match(new RegExp(`^(.*?)${m}`,"gmi")))!=null?g:[""],u=(0,at.default)(d[0]);return b(l)&&await rt(l,this.formatter)?l=(await j(`<?php
${l}
?>`,this.formatter.options)).trim():l.split(`
`).length>1?l=(await j(`<?php${l}?>`,this.formatter.options)).trim():l=`<?php${l}?>`,w.default.replace(l,/^(\s*)?<\?php(.*?)\?>/gms,(y,x,$)=>{if(b(l))return`@php${$}@endphp`;let F=this.preserveStringLiteralInPhp($),rn=nt(u,F,this.formatter);return`@php${this.restoreStringLiteralInPhp(rn)}@endphp`})}),o=w.default.replace(o,/(?<=[\S]+)(\s*?)\/\*\*\*script_placeholder\*\*\*\/(\s)?/gim,(a,c,l)=>{if(l!==void 0)return l;let m=c!=null?c:"",d=l!=null?l:"";return m+d}),o}),t.test(n)&&(n=await this.restoreBladeDirectiveInScripts(n)),n}async restoreInlineCustomDirective(e){return(0,Ae.default)(e,new RegExp(`${this.getInlineCustomDirectivePlaceholder("(\\d+)")}`,"gim"),async(t,n)=>{var l;let i=this.getInlineCustomDirectivePlaceholder(n.toString()),o=(l=e.match(new RegExp(`^(.*?)${w.default.escapeRegExp(i)}`,"mi")))!=null?l:[""],a=(0,at.default)(o[0]),c=`${this.customDirectives[n]}`;return(0,Ae.default)(c,/(@[a-zA-Z0-9\-_]+)(.*)/gis,async(m,d,u)=>{try{let g=(await C(`func${u}`,{...this.formatter.options,printWidth:O})).replace(/([\n\s]*)->([\n\s]*)/gs,"->").replace(/,(\s*?\))$/gm,(y,x)=>x).trim().substring(4);return`${d}${M(a.indent,g,this.formatter)}`}catch{return`${m}`}})})}storeBladeDirective(e){return this.getBladeDirectivePlaceholder(this.bladeDirectives.push(e)-1)}storeBladeDirectiveInScript(e){return this.getBladeDirectiveInScriptPlaceholder((this.directivesInScript.push(e)-1).toString())}getBladeDirectiveInScriptPlaceholder(e){return w.default.replace("___directives_script_#___","#",e)}getBladeDirectivePlaceholder(e){return w.default.replace("___blade_directive_#___","#",e)}getInlinePhpPlaceholder(e){return w.default.replace("___inline_php_directive_#___","#",e)}async formatExpressionInsideBladeDirective(e,t,n=void 0){let i=`func(${e})`,o=await C(i,{...this.formatter.options,printWidth:n!=null?n:this.formatter.defaultPhpFormatOption.printWidth});if(o===i)return e;let a=o.replace(/([\n\s]*)->([\n\s]*)/gs,"->").replace(/(?<!(['"]).*)(?<=\()[\n\s]+?(?=\w)/gm,"").replace(/(.*)],[\n\s]*?\)$/gm,(c,l)=>`${l}]
)`).replace(/,[\n\s]*?\)/gs,")").replace(/,(\s*?\))$/gm,(c,l)=>l).trim();return this.formatter.options.useTabs&&(a=w.default.replace(a,/(?<=^ *) {4}/gm,"	".repeat(this.formatter.indentSize))),a=a.replace(/func\((.*)\)/gis,(c,l)=>l),b(a.trim())&&(a=a.trim()),A(t,a,this.formatter)}storeRawBlock(e){return this.getRawPlaceholder(this.rawBlocks.push(e)-1)}getRawPlaceholder(e){return w.default.replace("___raw_block_#___","#",e)}storeInlineCustomDirective(e){return this.getInlineCustomDirectivePlaceholder((this.customDirectives.push(e)-1).toString())}getInlineCustomDirectivePlaceholder(e){return w.default.replace("___inline_cdis_#___","#",e)}preserveStringLiteralInPhp(e){return w.default.replace(e,/(\"([^\\]|\\.)*?\"|\'([^\\]|\\.)*?\')/gm,t=>`${this.storeStringLiteralInPhp(t)}`)}storeStringLiteralInPhp(e){let t=this.stringLiteralInPhp.push(e)-1;return this.getStringLiteralInPhpPlaceholder(t)}getStringLiteralInPhpPlaceholder(e){return w.default.replace("'___php_content_#___'","#",e)}restoreStringLiteralInPhp(e){return w.default.replace(e,new RegExp(`${this.getStringLiteralInPhpPlaceholder("(\\d+)")}`,"gms"),(t,n)=>this.stringLiteralInPhp[n])}async formatPreservedBladeDirectives(e){return wr.default.map(e,async t=>{let n=await fr(t,this.formatter);return(await it(n,this.formatter)).trimRight(`
`)})}};var T=p(require("lodash"),1);var ee=class extends h{constructor(){super(...arguments);this.bladeDirectivesInStyle=[]}async preProcess(e){return await this.preserveBladeDirectiveInStyles(e)}async postProcess(e){return await this.restoreBladeDirectiveInStyles(e)}async preserveBladeDirectiveInStyles(e){return T.default.replace(e,/(?<=<style[^>]*?(?<!=)>)(.*?)(?=<\/style>)/gis,t=>{let n=t,i=new RegExp(`(?!${["@end","@else",...Le].join("|")})@(\\w+)\\s*?(?![^\\1]*@end\\1)${v}`,"gmi");n=T.default.replace(n,i,m=>`${this.storeBladeDirectiveInStyle(m)} {/* inline_directive */}`);let o=new RegExp(`(?!${["@end","@else",...Le].join("|")})@(\\w+)\\s*?(${v})`,"gmi");n=T.default.replace(n,o,m=>`${this.storeBladeDirectiveInStyle(m)} { /*start*/`);let a=new RegExp(`(${S.join("|")})\\s*?(${v})`,"gmi");n=T.default.replace(n,a,m=>`${this.storeBladeDirectiveInStyle(m)} { /*start*/`);let c=new RegExp(`(${["@else\\w+",...k].join("|")})\\s*?(${v})?`,"gmi");n=T.default.replace(n,c,m=>`} ${this.storeBladeDirectiveInStyle(m)} { /*else*/`);let l=new RegExp(`${["@end\\w+",...D].join("|")}`,"gmi");return n=T.default.replace(n,l,m=>`} /* ${this.storeBladeDirectiveInStyle(m)} */`),n})}async restoreBladeDirectiveInStyles(e){return T.default.replace(e,/(?<=<style[^>]*?(?<!=)>)(.*?)(?=<\/style>)/gis,t=>{let n=t,i=new RegExp(`${this.getBladeDirectiveInStylePlaceholder("(\\d+)")} {\\s*?/\\* inline_directive \\*/\\s*?}`,"gmi");n=T.default.replace(n,i,(l,m)=>this.bladeDirectivesInStyle[m]);let o=new RegExp(`}\\s*?${this.getBladeDirectiveInStylePlaceholder("(\\d+)")} {\\s*?/\\*else\\*/`,"gmi");n=T.default.replace(n,o,(l,m)=>`${this.bladeDirectivesInStyle[m]}`);let a=new RegExp(`${this.getBladeDirectiveInStylePlaceholder("(\\d+)")} {\\s*?/\\*start\\*/`,"gmi");n=T.default.replace(n,a,(l,m)=>`${this.bladeDirectivesInStyle[m]}`);let c=new RegExp(`}\\s*?/\\* ${this.getBladeDirectiveInStylePlaceholder("(\\d+)")} \\*/`,"gmi");return n=T.default.replace(n,c,(l,m)=>`${this.bladeDirectivesInStyle[m]}`),n})}storeBladeDirectiveInStyle(e){return this.getBladeDirectiveInStylePlaceholder((this.bladeDirectivesInStyle.push(e)-1).toString())}getBladeDirectiveInStylePlaceholder(e){return T.default.replace(".___blade_directive_in_style_#__","#",e)}};var B=p(require("lodash"),1);var Pr=p(require("xregexp"),1);var Te=class extends h{constructor(){super(...arguments);this.bladeComments=[]}async preProcess(e){return await this.breakLineBeforeAndAfterDirective(e)}async postProcess(e){}breakLineBeforeAndAfterDirective(e){let t=B.default.replace(e,new RegExp(`(?<=<.*?(?<!=)>)(${B.default.without(S,"@php").join("|")})(\\s*)${v}.*?(?=<.*?>)`,"gmis"),a=>`
${a.trim()}
`);t=B.default.replace(t,new RegExp(`(?<=<.*?(?<!=)>).*?(${B.default.without(D,"@endphp").join("|")})(?=<.*?>)`,"gmis"),a=>`
${a.trim()}
`);let n=["@case",...k];t=B.default.replace(t,new RegExp(`(\\s*?)(${n.join("|")})(\\s*?)${v}(\\s*)`,"gmi"),a=>`
${a.trim()}
`),t=B.default.replace(t,new RegExp(`\\s*?(?!(${B.default.without(k,"@else").join("|")}))@else\\s+`,"gim"),a=>`
${a.trim()}
`),t=B.default.replace(t,/@case\S*?\s*?@case/gim,a=>`${a.replace(`
`,"")}`);let i=["@break"];B.default.forEach(i,a=>{t=B.default.replace(t,new RegExp(`(\\s*?)${a}\\s+`,"gmi"),c=>`
${c.trim()}

`)}),B.default.forEach(["@default"],a=>{t=B.default.replace(t,new RegExp(`(\\s*?)${a}\\s*`,"gmi"),c=>`

${c.trim()}
`)});let o=B.default.chain(S).map(a=>B.default.replace(a,/@/,"")).value();return B.default.forEach(o,a=>{try{let c=Pr.default.matchRecursive(t,`\\@${a}`,`\\@end${a}`,"gmi",{valueNames:[null,"left","match","right"]});if(B.default.isEmpty(c))return;for(let l of c)if(l.name==="match"){new RegExp(S.join("|")).test(l.value)&&(t=B.default.replace(t,l.value,this.breakLineBeforeAndAfterDirective(Ct(l.value))));let m=new RegExp(`^(\\s*?)${v}(.*)`,"gmis"),d=B.default.replace(`${l.value}`,m,(u,g,y,x)=>x.trim()===""?`${g}(${y.trim()})
${x.trim()}`:`${g}(${y.trim()})
${x.trim()}
`);t=B.default.replace(t,l.value,Ct(d))}}catch{}}),t}};var vr=p(require("detect-indent"),1),br=p(require("js-beautify"),1),It=p(require("lodash"),1),Bt=p(require("string-replace-async"),1);var te=class extends h{constructor(){super(...arguments);this.componentAttributes=[]}async preProcess(e){return await this.preserveComponentAttribute(e)}async postProcess(e){return await this.restoreComponentAttribute(e)}async preserveComponentAttribute(e){let t=Array.isArray(this.formatter.options.componentPrefix)&&this.formatter.options.componentPrefix.length>0?this.formatter.options.componentPrefix:["x-","livewire:"],n=new RegExp(`(?<=<(${t.join("|")})[^<]*?\\s):{1,2}(?<!=>)[\\w-_.]*?=(["'])(?!=>)[^\\2]*?\\2(?=[^>]*?/*?>)`,"gim");return It.default.replace(e,n,i=>`${this.storeComponentAttribute(i)}`)}async restoreComponentAttribute(e){return(0,Bt.default)(e,new RegExp(`${this.getComponentAttributePlaceholder("(\\d+)")}`,"gim"),async(t,n)=>{var m;let i=this.getComponentAttributePlaceholder(n),o=(m=e.match(new RegExp(`^(.*?)${i}`,"gmi")))!=null?m:[""],a=(0,vr.default)(o[0]),c=this.componentAttributes[n],l=await(0,Bt.default)(c,/(:{1,2}.*?=)(["'])(.*?)(?=\2)/gis,async(d,u,g,y)=>{if(y==="")return d;if(o[0].startsWith("<livewire"))return`${u}${g}${y}`;if(u.startsWith("::"))return`${u}${g}${br.default.js_beautify(y,{wrap_line_length:this.formatter.wrapLineLength-a.amount,brace_style:"preserve-inline"}).trim()}`;if(b(y))try{return`${u}${g}${(await C(y,{...this.formatter.options,printWidth:this.formatter.wrapLineLength-a.amount})).trimEnd()}`}catch{return`${u}${g}${y}`}return`${u}${g}${(await C(y,{...this.formatter.options,printWidth:this.formatter.wrapLineLength-a.amount})).trimEnd()}`});return`${M(a.indent,l,this.formatter)}`})}storeComponentAttribute(e){let t=this.componentAttributes.push(e)-1;return this.getComponentAttributePlaceholder(t.toString())}getComponentAttributePlaceholder(e){return It.default.replace("___attribute_#___","#",e)}};var xr=p(require("detect-indent"),1),Rt=p(require("lodash"),1);var $r=p(require("string-replace-async"),1);var re=class extends h{constructor(){super(...arguments);this.conditions=[]}async preProcess(e){return await this.preserveConditions(e)}async postProcess(e){return await this.restoreConditions(e)}async preserveConditions(e){let t=new RegExp(`(${qt.join("|")})(\\s*?)${v}`,"gi");return Rt.default.replace(e,t,(n,i,o,a)=>`${i}${o}(${this.storeConditions(a)})`)}async restoreConditions(e){return new Promise(t=>t(e)).then(t=>(0,$r.default)(t,new RegExp(`${this.getConditionsPlaceholder("(\\d+)")}`,"gms"),async(n,i)=>{var m;let o=this.getConditionsPlaceholder(i),a=(m=e.match(new RegExp(`^(.*?)${o}`,"gmi")))!=null?m:[""],c=(0,xr.default)(a[0]),l=this.conditions[i];return ur(l,c,this.formatter)}))}storeConditions(e){return this.getConditionsPlaceholder(this.conditions.push(e)-1)}getConditionsPlaceholder(e){return Rt.default.replace("___directive_condition_#___","#",e)}};var Sr=p(require("js-beautify"),1),ct=p(require("lodash"),1);var ne=class extends h{constructor(){super(...arguments);this.curlyBracesWithJSs=[]}async preProcess(e){return await this.preserveCurlyBraceForJS(e)}async postProcess(e){return await this.restoreCurlyBraceForJS(e)}async preserveCurlyBraceForJS(e){return ct.default.replace(e,/@{{(.*?)}}/gs,(t,n)=>this.storeCurlyBraceForJS(n))}storeCurlyBraceForJS(e){return this.getCurlyBraceForJSPlaceholder(this.curlyBracesWithJSs.push(e)-1)}getCurlyBraceForJSPlaceholder(e){return ct.default.replace("___js_curly_brace_#___","#",e)}async restoreCurlyBraceForJS(e){return ct.default.replace(e,new RegExp(`${this.getCurlyBraceForJSPlaceholder("(\\d+)")}`,"gm"),(t,n)=>`@{{ ${Sr.default.js_beautify(this.curlyBracesWithJSs[n].trim())} }}`)}};var Et=p(require("detect-indent"),1),R=p(require("lodash"),1);var Fe=p(require("string-replace-async"),1);var ie=class extends h{constructor(){super(...arguments);this.customDirectives=[]}async preProcess(e){return await this.preserveCustomDirective(e)}async postProcess(e){return await this.restoreCustomDirective(e)}async preserveCustomDirective(e){let t=[...R.default.without(S,"@unless"),...D,...k,"@unless\\(.*?\\)"].join("|"),n=R.default.chain([...R.default.without(S,"@unless","@for"),...D,...k,...U,...R.default.without(J,"@for"),"@unless[a-z]*\\(.*?\\)","@for\\(.*?\\)",...q,...Le]).uniq().join("|").value(),i=new RegExp(`(?!(${n}))(@([a-zA-Z1-9_\\-]+))(?!.*?@end\\3)${v}.*?(?<!@end\\5)`,"gis"),o=new RegExp(`(?!(${t}))(@(unless)*([a-zA-Z1-9_\\-]+))(?!.*?\\2)(\\s|\\(.*?\\))+(.*?)(@end\\4)`,"gis"),a;return a=R.default.replace(e,i,c=>this.storeInlineCustomDirective(c)),a=R.default.replace(a,o,(c,l,m,d,u,g,y,x)=>{if(S.includes(m))return c;let $=c;return $=R.default.replace($,new RegExp(`${m}(${v})*`,"gim"),F=>this.storeBeginCustomDirective(F)),$=R.default.replace($,x,this.storeEndCustomDirective(x)),$=R.default.replace($,new RegExp(`@else${u}(${v})*`,"gim"),F=>this.storeElseCustomDirective(F)),$}),o.test(a)&&(a=this.preserveCustomDirective(a)),a}async restoreCustomDirective(e){return this.restoreInlineCustomDirective(e).then(t=>this.restoreBeginCustomDirective(t)).then(t=>this.restoreElseCustomDirective(t)).then(t=>this.restoreEndCustomDirective(t))}async restoreInlineCustomDirective(e){return(0,Fe.default)(e,new RegExp(`${this.getInlineCustomDirectivePlaceholder("(\\d+)")}`,"gim"),async(t,n)=>{var l;let i=this.getInlineCustomDirectivePlaceholder(n.toString()),o=(l=e.match(new RegExp(`^(.*?)${R.default.escapeRegExp(i)}`,"gmi")))!=null?l:[""],a=(0,Et.default)(o[0]),c=`${this.customDirectives[n]}`;return(0,Fe.default)(c,/(@[a-zA-Z0-9\-_]+)(.*)/gis,async(m,d,u)=>{try{let g=(await C(`func${u}`,{...this.formatter.options,printWidth:O})).replace(/([\n\s]*)->([\n\s]*)/gs,"->").replace(/,(\s*?\))$/gm,(y,x)=>x).trim().substring(4);return`${d}${M(a.indent,g,this.formatter)}`}catch{return`${m}`}})})}async restoreElseCustomDirective(e){return R.default.replace(e,/@else\(___(\d+)___\)/gim,(t,n)=>`${this.customDirectives[n]}`)}async restoreEndCustomDirective(e){return R.default.replace(e,/@endcustomdirective\(___(\d+)___\)/gim,(t,n)=>`${this.customDirectives[n]}`)}async restoreBeginCustomDirective(e){return(0,Fe.default)(e,new RegExp(`@customdirective\\(___(\\d+)___\\)\\s*?(${v})*`,"gim"),async(t,n)=>{var l;let i=this.getBeginCustomDirectivePlaceholder(n.toString()),o=(l=e.match(new RegExp(`^(.*?)${R.default.escapeRegExp(i)}`,"gmi")))!=null?l:[""],a=(0,Et.default)(o[0]),c=`${this.customDirectives[n]}`;return(0,Fe.default)(c,/(@[a-zA-Z0-9\-_]+)(.*)/gis,async(m,d,u)=>{try{let g=(await C(`func${u}`,{...this.formatter.options,trailingCommaPHP:!1})).replace(/([\n\s]*)->([\n\s]*)/gs,"->").trim().substring(4);return`${d}${M(a.indent,g,this.formatter)}`}catch{return`${m}`}})})}storeInlineCustomDirective(e){return this.getInlineCustomDirectivePlaceholder((this.customDirectives.push(e)-1).toString())}storeBeginCustomDirective(e){return this.getBeginCustomDirectivePlaceholder((this.customDirectives.push(e)-1).toString())}storeEndCustomDirective(e){return this.getEndCustomDirectivePlaceholder((this.customDirectives.push(e)-1).toString())}storeElseCustomDirective(e){return this.getElseCustomDirectivePlaceholder((this.customDirectives.push(e)-1).toString())}getInlineCustomDirectivePlaceholder(e){return R.default.replace("___inline_cd_#___","#",e)}getBeginCustomDirectivePlaceholder(e){return R.default.replace("@customdirective(___#___)","#",e)}getEndCustomDirectivePlaceholder(e){return R.default.replace("@endcustomdirective(___#___)","#",e)}getElseCustomDirectivePlaceholder(e){return R.default.replace("@else(___#___)","#",e)}getCustomDirectivePlaceholder(e){return R.default.replace("___blade_comment_#___","#",e)}};var lt=p(require("lodash"),1);var se=class extends h{constructor(){super(...arguments);this.escapedBladeDirectives=[]}async preProcess(e){return await this.preserveEscapedBladeDirective(e)}async postProcess(e){return await this.restoreEscapedBladeDirective(e)}async preserveEscapedBladeDirective(e){return lt.default.replace(e,/@@\w*/gim,t=>this.storeEscapedBladeDirective(t))}async restoreEscapedBladeDirective(e){return new Promise(t=>t(e)).then(t=>lt.default.replace(t,new RegExp(`${this.getEscapedBladeDirectivePlaceholder("(\\d+)")}`,"gms"),(n,i)=>this.escapedBladeDirectives[i]))}storeEscapedBladeDirective(e){return this.getEscapedBladeDirectivePlaceholder((this.escapedBladeDirectives.push(e)-1).toString())}getEscapedBladeDirectivePlaceholder(e){return lt.default.replace("___escaped_directive_#___","#",e)}};var je=class extends h{async preProcess(r){return await mr(r,this.formatter.options)}async postProcess(r){}};var Oe=class extends h{async preProcess(r){return await it(r,this.formatter)}async postProcess(r){}};var Cr=p(require("js-beautify"),1);var We=class extends h{async preProcess(r){return await this.formatAsHtml(r)}async postProcess(r){}async formatAsHtml(r){let e={indent_size:f(this.formatter.options).indentSize||4,wrap_line_length:f(this.formatter.options).wrapLineLength||120,wrap_attributes:f(this.formatter.options).wrapAttributes||"auto",wrap_attributes_min_attrs:f(this.formatter.options).wrapAttributesMinAttrs,indent_inner_html:f(this.formatter.options).indentInnerHtml||!1,end_with_newline:f(this.formatter.options).endWithNewline||!0,max_preserve_newlines:f(this.formatter.options).noMultipleEmptyLines?1:void 0,extra_liners:f(this.formatter.options).extraLiners,css:{end_with_newline:!1},eol:this.formatter.endOfLine},t=new Promise(n=>n(r)).then(n=>$t(n)).then(n=>Cr.default.html_beautify(n,e)).then(n=>St(n));return Promise.resolve(t)}};var V=p(require("lodash"),1);var oe=class extends h{constructor(){super(...arguments);this.htmlAttributes=[]}async preProcess(e){return await this.preserveHtmlAttributes(e)}async postProcess(e){return await this.restoreHtmlAttributes(e)}async preserveHtmlAttributes(e){return V.default.replace(e,/(?<=<[\w\-\.\:\_]+.*\s)(?!x-bind)([^\s\:][^\s\'\"]+\s*=\s*(["'])(?<!\\)[^\2]*?(?<!\\)\2)(?=.*(?<!=)\/?>)/gms,t=>`${this.storeHtmlAttribute(t)}`)}async restoreHtmlAttributes(e){return V.default.replace(e,new RegExp(`${this.getHtmlAttributePlaceholder("(\\d+)")}`,"gms"),(t,n)=>this.htmlAttributes[n])}storeHtmlAttribute(e){let t=this.htmlAttributes.push(e)-1;return e.length>0?this.getHtmlAttributePlaceholder(t.toString(),e.length):this.getHtmlAttributePlaceholder(t.toString(),0)}getHtmlAttributePlaceholder(e,t){if(t&&t>0){let i=t-"___attrs_#___".length;return V.default.replace(`___attrs${V.default.repeat("_",i>0?i:1)}#___`,"#",e)}return V.default.isNull(t)?V.default.replace("___attrs_#___","#",e):V.default.replace("___attrs_+?#___","#",e)}};var Ir=p(require("detect-indent"),1),Lt=p(require("js-beautify"),1),W=p(require("lodash"),1);var ae=class extends h{constructor(){super(...arguments);this.htmlTags=[];this.templatingStrings=[]}async preProcess(e){return await this.preserveHtmlTags(e)}async postProcess(e){return await this.restoreHtmlTags(e)}async preserveHtmlTags(e){let t=["textarea","pre"];return W.default.replace(e,new RegExp(`<(${t.join("|")})\\s{0,1}.*?>.*?<\\/(${t.join("|")})>`,"gis"),n=>this.storeHtmlTags(n))}async restoreHtmlTags(e){return W.default.replace(e,new RegExp(`${this.getHtmlTagsPlaceholder("(\\d+)")}`,"gim"),(t,n)=>{var u;let i=this.getHtmlTagsPlaceholder(n.toString()),o=(u=e.match(new RegExp(`^(.*?)${i}`,"gmi")))!=null?u:[""],a=(0,Ir.default)(o[0]),c={indent_size:f(this.formatter.options).indentSize||4,wrap_line_length:f(this.formatter.options).wrapLineLength||120,wrap_attributes:f(this.formatter.options).wrapAttributes||"auto",wrap_attributes_min_attrs:f(this.formatter.options).wrapAttributesMinAttrs,indent_inner_html:f(this.formatter.options).indentInnerHtml||!1,extra_liners:f(this.formatter.options).extraLiners,end_with_newline:!1,templating:["php"]},l=this.htmlTags[n],m=W.default.first(l.match(/(<(textarea|pre).*?(?<!=)>)(?=.*?<\/\2>)/gis));if(m===void 0)return`${this.indentScriptBlock(a,Lt.default.html_beautify(l,c))}`;let d=l.substring(m.length,l.length);return`${this.indentScriptBlock(a,Lt.default.html_beautify(m,c))}${d}`})}storeHtmlTags(e){return this.getHtmlTagsPlaceholder((this.htmlTags.push(e)-1).toString())}getHtmlTagsPlaceholder(e){return W.default.replace("<blade___html_tags_#___ />","#",e)}indentScriptBlock(e,t){if(W.default.isEmpty(e.indent))return t;if(b(t))return`${t}`;let i=e.amount/this.formatter.indentSize,o=this.formatter.indentCharacter.repeat(i<0?0:i*this.formatter.indentSize),a=this.formatter.indentCharacter.repeat(i<0?0:i*this.formatter.indentSize),l=W.default.replace(t,/`.*?`/gs,d=>this.storeTemplatingString(d)).split(`
`),m=W.default.chain(l).map((d,u)=>u===0?d:u===l.length-1?a+d:W.default.isEmpty(d)?d:o+d).value().join(`
`);return this.restoreTemplatingString(`${m}`)}storeTemplatingString(e){let t=this.templatingStrings.push(e)-1;return this.getTemplatingStringPlaceholder(t)}restoreTemplatingString(e){return W.default.replace(e,new RegExp(`${this.getTemplatingStringPlaceholder("(\\d+)")}`,"gms"),(t,n)=>this.templatingStrings[n])}getTemplatingStringPlaceholder(e){return W.default.replace("___templating_str_#___","#",e)}};var pt=p(require("lodash"),1);var ce=class extends h{constructor(){super(...arguments);this.ignoredLines=[]}async preProcess(e){return await this.preserveIgnoredLines(e)}async postProcess(e){return await this.restoreIgnoredLines(e)}async preserveIgnoredLines(e){return pt.default.chain(e).replace(/(^(?<!.+)^{{--\s*blade-formatter-disable\s*--}}.*?)([\r\n]*)$(?![\r\n])/gis,(t,n,i)=>this.storeIgnoredLines(`${n}${i.replace(/^\n/,"")}`)).replace(/(?:({{--\s*?blade-formatter-disable\s*?--}}|<!--\s*?prettier-ignore-start\s*?-->|{{--\s*?prettier-ignore-start\s*?--}})).*?(?:({{--\s*?blade-formatter-enable\s*?--}}|<!--\s*?prettier-ignore-end\s*?-->|{{--\s*?prettier-ignore-end\s*?--}}))/gis,t=>this.storeIgnoredLines(t)).replace(/(?:{{--\s*?blade-formatter-disable-next-line\s*?--}}|{{--\s*?prettier-ignore\s*?--}}|<!--\s*?prettier-ignore\s*?-->)[\r\n]+[^\r\n]+/gis,t=>this.storeIgnoredLines(t)).replace(/^---\r?\n[\s\S]*?\r?\n---(?=(\r?\n))/gis,t=>this.storeIgnoredLines(t)).value()}async restoreIgnoredLines(e){return pt.default.replace(e,new RegExp(`${this.getIgnoredLinePlaceholder("(\\d+)")}`,"gm"),(t,n)=>this.ignoredLines[n])}storeIgnoredLines(e){return this.getIgnoredLinePlaceholder(this.ignoredLines.push(e)-1)}getIgnoredLinePlaceholder(e){return pt.default.replace("___ignored_line_#___","#",e)}};var le=p(require("lodash"),1);var pe=class extends h{constructor(){super(...arguments);this.inlineDirectives=[]}async preProcess(e){return await this.preserveInlineDirective(e)}async postProcess(e){return await this.restoreInlineDirective(e)}async preserveInlineDirective(e){let t=new RegExp(`(<[\\w\\-\\_]+?[^>]*?)${Q}(${Vt.join("|")})(\\s*?)?(\\([^)]*?\\))?((?:(?!@end\\2).)+)(@end\\2|@endif)(.*?/*>)`,"gims"),n=le.default.replace(e,t,(i,o,a,c,l,m,d,u)=>c===void 0&&l===void 0?`${o}${this.storeInlineDirective(`${Q}${a.trim()}${m.trim()} ${d.trim()}`)}${u}`:c===void 0?`${o}${this.storeInlineDirective(`${Q}${a.trim()}${l.trim()}${m}${d.trim()}`)}${u}`:l===void 0?`${o}${this.storeInlineDirective(`${Q}${a.trim()}${c}${m.trim()} ${d.trim()}`)}${u}`:`${o}${this.storeInlineDirective(`${Q}${a.trim()}${c}${l.trim()} ${m.trim()} ${d.trim()}`)}${u}`);return t.test(n)?this.preserveInlineDirective(n):n}async restoreInlineDirective(e){return new Promise(t=>t(e)).then(t=>le.default.replace(t,new RegExp(`${this.getInlinePlaceholder("(\\d+)")}`,"gms"),(n,i)=>this.inlineDirectives[i]))}storeInlineDirective(e){return this.getInlinePlaceholder(this.inlineDirectives.push(e)-1,e.length)}getInlinePlaceholder(e,t=0){if(t>0){let i=t-"___inline_directive_#___".length;return le.default.replace(`___inline_directive_${le.default.repeat("_",i>0?i:0)}#___`,"#",e)}return le.default.replace("___inline_directive_+?#___","#",e)}};var Br=p(require("detect-indent"),1),He=p(require("lodash"),1);var Dt=p(require("string-replace-async"),1);var me=class extends h{constructor(){super(...arguments);this.inlinePhpDirectives=[]}async preProcess(e){return await this.preserveInlinePhpDirective(e)}async postProcess(e){return await this.restoreInlinePhpDirective(e)}async preserveInlinePhpDirective(e){return He.default.replace(e,new RegExp(`(?!\\/\\*.*?\\*\\/)(${U.join("|")})(\\s*?)${v}`,"gmsi"),t=>this.storeInlinePhpDirective(t))}async restoreInlinePhpDirective(e){return new Promise(t=>t(e)).then(t=>(0,Dt.default)(t,new RegExp(`${this.getInlinePhpPlaceholder("(\\d+)")}`,"gm"),async(n,i)=>{var m;let o=this.inlinePhpDirectives[i],a=this.getInlinePhpPlaceholder(i),c=(m=e.match(new RegExp(`^(.*?)${a}`,"gmi")))!=null?m:[""],l=(0,Br.default)(c[0]);return o.includes("@php")?`${(await C(o,{...this.formatter.options,printWidth:O})).replace(/([\n\s]*)->([\n\s]*)/gs,"->").trim().trimRight(`
`)}`:new RegExp(bt.join("|"),"gi").test(o)?(0,Dt.default)(o,new RegExp(`(?<=@(${He.default.map(bt,u=>u.substring(1)).join("|")}).*?\\()(.*)(?=\\))`,"gis"),async(u,g,y)=>{let x=this.formatter.wrapLineLength;return["button","class"].includes(g)&&(x=80),g==="include"&&(x=this.formatter.wrapLineLength-4-i.length-l.amount),this.formatExpressionInsideBladeDirective(y,l,x)}):`${(await C(o,{...this.formatter.options,printWidth:O})).trimEnd()}`}))}storeInlinePhpDirective(e){return this.getInlinePhpPlaceholder(this.inlinePhpDirectives.push(e)-1)}getInlinePhpPlaceholder(e){return He.default.replace("___inline_php_directive_#___","#",e)}async formatExpressionInsideBladeDirective(e,t,n=void 0){let i=`func(${e})`,o=await C(i,{...this.formatter.options,printWidth:n!=null?n:this.formatter.defaultPhpFormatOption.printWidth});if(o===i)return e;let a=o.replace(/([\n\s]*)->([\n\s]*)/gs,"->").replace(/(?<!(['"]).*)(?<=\()[\n\s]+?(?=\w)/gm,"").replace(/(.*)],[\n\s]*?\)$/gm,(c,l)=>`${l}]
)`).replace(/,[\n\s]*?\)/gs,")").replace(/,(\s*?\))$/gm,(c,l)=>l).trim();return this.formatter.options.useTabs&&(a=He.default.replace(a,/(?<=^ *) {4}/gm,"	".repeat(this.formatter.indentSize))),a=a.replace(/func\((.*)\)/gis,(c,l)=>l),b(a.trim())&&(a=a.trim()),A(t,a,this.formatter)}};var mt=p(require("lodash"),1);var he=class extends h{constructor(){super(...arguments);this.nonnativeScripts=[]}async preProcess(e){return await this.preserveNonnativeScripts(e)}async postProcess(e){return await this.restoreNonnativeScripts(e)}async preserveNonnativeScripts(e){return mt.default.replace(e,/<script[^>]*?type=(["'])(?!(text\/javascript|module))[^\1]*?\1[^>]*?>.*?<\/script>/gis,t=>this.storeNonnativeScripts(t))}storeNonnativeScripts(e){let t=this.nonnativeScripts.push(e)-1;return this.getNonnativeScriptPlaceholder(t.toString())}async restoreNonnativeScripts(e){return mt.default.replace(e,new RegExp(`${this.getNonnativeScriptPlaceholder("(\\d+)")}`,"gmi"),(t,n)=>`${this.nonnativeScripts[n]}`)}getNonnativeScriptPlaceholder(e){return mt.default.replace("<blade___non_native_scripts_#___ />","#",e)}};var kt=p(require("detect-indent"),1),N=p(require("lodash"),1);function gn(s){return s.split(`
`)}function fn(s){return s.trim().startsWith("*")}function yn(s){return s.length>1}function _n(s){return` ${s}`}function ht(s){let r=gn(s);if(!yn(r))return s;let e=!1;return r.map((n,i)=>{if(i===0||e)return n;if(!fn(n))return e=!0,n;let o=n.trim();return _n(o)}).join(`
`)}var Rr=p(require("string-replace-async"),1);var de=class extends h{constructor(){super(...arguments);this.rawBlocks=[];this.rawPropsBlocks=[];this.stringLiteralInPhp=[];this.phpComments=[]}async preProcess(e){return await this.preservePhpBlock(e)}async postProcess(e){return await this.restoreRawPhpBlock(e)}async preservePhpBlock(e){return this.preserveRawPhpBlock(e)}async preserveRawPhpBlock(e){return N.default.replace(e,/(?<!@)@php(.*?)@endphp/gs,(t,n)=>this.storeRawBlock(n))}async restoreRawPhpBlock(e){return(0,Rr.default)(e,new RegExp(`${this.getRawPlaceholder("(\\d+)")}`,"gm"),async(t,n)=>{var d;let i=this.rawBlocks[n],o=this.getRawPlaceholder(n.toString()),a=(d=e.match(new RegExp(`^(.*?)${o}`,"gmi")))!=null?d:[""],c=(0,kt.default)(a[0]),l=b(i),m=await rt(i,this.formatter);if(l&&m)i=(await j(`<?php
${i}
?>`,this.formatter.options)).trim();else if(m){let u=c.amount+this.formatter.indentSize;i=(await j(`<?php${i}?>`,{...this.formatter.options,useProjectPrintWidth:!0,adjustPrintWidthBy:u})).trimEnd()}else l?i=`<?php${i}?>`:i=(await j(`<?php${i}?>`,this.formatter.options)).trimEnd();return N.default.replace(i,/^(\s*)?<\?php(.*?)\?>/gms,(u,g,y)=>{if(b(i))return`@php${y}@endphp`;let x=this.preserveStringLiteralInPhp(y);x=this.preservePhpComment(x);let $=nt(c,x,this.formatter);return $=this.restorePhpComment($),`@php${this.restoreStringLiteralInPhp($)}@endphp`})})}storeRawBlock(e){return this.getRawPlaceholder(this.rawBlocks.push(e)-1)}getRawPlaceholder(e){return N.default.replace("___raw_block_#___","#",e)}preserveStringLiteralInPhp(e){return N.default.replace(e,/(\"([^\\]|\\.)*?\"|\'([^\\]|\\.)*?\')/gm,t=>`${this.storeStringLiteralInPhp(t)}`)}storeStringLiteralInPhp(e){let t=this.stringLiteralInPhp.push(e)-1;return this.getStringLiteralInPhpPlaceholder(t)}getStringLiteralInPhpPlaceholder(e){return N.default.replace("'___php_content_#___'","#",e)}preservePhpComment(e){return N.default.replace(e,/\/\*(?:[^*]|[\r\n]|(?:\*+(?:[^*\/]|[\r\n])))*\*+\//gi,t=>this.storePhpComment(t))}storePhpComment(e){return this.getPhpCommentPlaceholder((this.phpComments.push(e)-1).toString())}getPhpCommentPlaceholder(e){return N.default.replace("___php_comment_#___","#",e)}restorePhpComment(e){return N.default.replace(e,new RegExp(`${this.getPhpCommentPlaceholder("(\\d+)")};{0,1}`,"gms"),(t,n)=>{var l;let i=this.getPhpCommentPlaceholder(n.toString()),o=(l=e.match(new RegExp(`^(.*?)${i}`,"gmi")))!=null?l:[""],a=(0,kt.default)(o[0]),c=ht(this.phpComments[n]);return tt(a,c,this.formatter)})}restoreStringLiteralInPhp(e){return N.default.replace(e,new RegExp(`${this.getStringLiteralInPhpPlaceholder("(\\d+)")}`,"gms"),(t,n)=>this.stringLiteralInPhp[n])}};var Er=p(require("detect-indent"),1),At=p(require("lodash"),1),Lr=p(require("string-replace-async"),1);var ue=class extends h{constructor(){super(...arguments);this.rawPropsBlocks=[]}async preProcess(e){return await this.preserveProps(e)}async postProcess(e){return await this.restoreRawPropsBlock(e)}async preserveProps(e){return At.default.replace(e,/@props\(((?:[^\\(\\)]|\([^\\(\\)]*\))*)\)/gs,(t,n)=>this.storeRawPropsBlock(n))}async restoreRawPropsBlock(e){let t=this.getRawPropsPlaceholder("(\\d+)");return(0,Lr.default)(e,new RegExp(t,"gms"),async(n,i)=>{var m;let o=this.getRawPropsPlaceholder(i.toString()),a=(m=e.match(new RegExp(`^(.*?)${o}`,"gmi")))!=null?m:[""],c=(0,Er.default)(a[0]),l=`@props(${(await C(this.rawPropsBlocks[i],{...this.formatter.options})).trim()})`;return A(c,l,this.formatter)})}storeRawPropsBlock(e){return this.getRawPropsPlaceholder(this.rawPropsBlocks.push(e)-1)}getRawPropsPlaceholder(e){return At.default.replace("@__raw_props_block_#__@","#",e)}};var Dr=p(require("detect-indent"),1),Tt=p(require("lodash"),1),kr=p(require("string-replace-async"),1);var ge=class extends h{constructor(){super(...arguments);this.rawBladeBraces=[]}async preProcess(e){return await this.preserveRawBladeBrace(e)}async postProcess(e){return await this.restoreRawBladeBrace(e)}async preserveRawBladeBrace(e){return Tt.default.replace(e,/\{!!(.*?)!!\}/gs,(t,n)=>n===""?this.storeRawBladeBrace(n):/\S/.test(n)?this.storeRawBladeBrace(n.trim()):this.storeRawBladeBrace(" "))}async restoreRawBladeBrace(e){return new Promise(t=>t(e)).then(t=>(0,kr.default)(t,new RegExp(`${this.getRawBladeBracePlaceholder("(\\d+)")}`,"gms"),async(n,i)=>{var m;let o=this.getRawBladeBracePlaceholder(i),a=(m=e.match(new RegExp(`^(.*?)${o}`,"gmi")))!=null?m:[""],c=(0,Dr.default)(a[0]),l=this.rawBladeBraces[i];return l.trim()===""?`{!!${l}!!}`:A(c,`{!! ${(await C(l,this.formatter.options)).replace(/([\n\s]*)->([\n\s]*)/gs,"->").trim()} !!}`,this.formatter)}))}storeRawBladeBrace(e){let t=this.rawBladeBraces.push(e)-1;return this.getRawBladeBracePlaceholder(t)}getRawBladeBracePlaceholder(e){return Tt.default.replace("___raw_blade_brace_#___","#",e)}};var Ft=p(require("detect-indent"),1),fe=p(require("lodash"),1);var Ar=p(require("string-replace-async"),1);var ye=class extends h{constructor(){super(...arguments);this.rawPhpTags=[];this.phpComments=[]}async preProcess(e){return await this.preserveRawPhpTag(e)}async postProcess(e){return await this.restoreRawPhpTag(e)}async preserveRawPhpTag(e){return fe.default.replace(e,/<\?php(.*?)\?>/gms,t=>this.storeRawPhpTags(t))}async restoreRawPhpTag(e){return new Promise(t=>t(e)).then(t=>(0,Ar.default)(t,new RegExp(`${this.getRawPhpTagPlaceholder("(\\d+)")}`,"gms"),async(n,i)=>{var o;try{let a=this.rawPhpTags[i],l=/(?<=<\?php\s*?)\/\*.*?\*\/(?=\s*?\?>)/gim.test(a)&&b(a),m=this.getRawPhpTagPlaceholder(i),d=(o=e.match(new RegExp(`^(.*?)${m}`,"gmi")))!=null?o:[""],u=(0,Ft.default)(d[0]);if(l)return a;let g=(await j(this.rawPhpTags[i],this.formatter.options)).trim().trimEnd();if(b(g))return g;let y=this.preservePhpComment(g);return u.indent&&(y=A(u,y,this.formatter)),this.restorePhpComment(y)}catch{return`${this.rawPhpTags[i]}`}}))}storeRawPhpTags(e){let t=this.rawPhpTags.push(e)-1;return this.getRawPhpTagPlaceholder(t)}getRawPhpTagPlaceholder(e){return fe.default.replace("___raw_php_tag_#___","#",e)}preservePhpComment(e){return fe.default.replace(e,/\/\*(?:[^*]|[\r\n]|(?:\*+(?:[^*\/]|[\r\n])))*\*+\//gi,t=>this.storePhpComment(t))}restorePhpComment(e){return fe.default.replace(e,new RegExp(`${this.getPhpCommentPlaceholder("(\\d+)")};{0,1}`,"gms"),(t,n)=>{var l;let i=this.getPhpCommentPlaceholder(n.toString()),o=(l=e.match(new RegExp(`^(.*?)${i}`,"gmi")))!=null?l:[""],a=(0,Ft.default)(o[0]),c=ht(this.phpComments[n]);return tt(a,c,this.formatter)})}storePhpComment(e){return this.getPhpCommentPlaceholder((this.phpComments.push(e)-1).toString())}getPhpCommentPlaceholder(e){return fe.default.replace("___php_comment_#___","#",e)}};var Tr=p(require("detect-indent"),1),jt=p(require("js-beautify"),1),H=p(require("lodash"),1);var _e=class extends h{constructor(){super(...arguments);this.scripts=[];this.templatingStrings=[]}async preProcess(e){return await this.preserveScripts(e)}async postProcess(e){return await this.restoreScripts(e)}async preserveScripts(e){return H.default.replace(e,/<script.*?>.*?<\/script>/gis,t=>this.storeScripts(t))}async restoreScripts(e){return new Promise(t=>t(e)).then(t=>H.default.replace(t,new RegExp(`${this.getScriptPlaceholder("(\\d+)")}`,"gim"),(n,i)=>{var u;let o=this.scripts[i],a=this.getScriptPlaceholder(i),c=(u=e.match(new RegExp(`^(.*?)${a}`,"gmi")))!=null?u:[""],l=(0,Tr.default)(c[0]),m=f(this.formatter.options).useTabs||!1,d={indent_size:f(this.formatter.options).indentSize||4,wrap_line_length:f(this.formatter.options).wrapLineLength||120,wrap_attributes:f(this.formatter.options).wrapAttributes||"auto",wrap_attributes_min_attrs:f(this.formatter.options).wrapAttributesMinAttrs,indent_inner_html:f(this.formatter.options).indentInnerHtml||!1,extra_liners:f(this.formatter.options).extraLiners,indent_with_tabs:m,end_with_newline:!1,templating:["php"]};return m?this.indentScriptBlock(l,H.default.replace(jt.default.html_beautify(o,d),/\t/g,"	".repeat(this.formatter.indentSize))):this.indentScriptBlock(l,jt.default.html_beautify(o,d))}))}indentScriptBlock(e,t){if(H.default.isEmpty(e.indent))return t;if(b(t))return`${t}`;let i=e.amount/this.formatter.indentSize,o=this.formatter.indentCharacter.repeat(i<0?0:i*this.formatter.indentSize),a=this.formatter.indentCharacter.repeat(i<0?0:i*this.formatter.indentSize),l=H.default.replace(t,/`.*?`/gs,d=>this.storeTemplatingString(d)).split(`
`),m=H.default.chain(l).map((d,u)=>u===0?d:u===l.length-1?a+d:H.default.isEmpty(d)?d:o+d).value().join(`
`);return this.restoreTemplatingString(`${m}`)}restoreTemplatingString(e){return H.default.replace(e,new RegExp(`${this.getTemplatingStringPlaceholder("(\\d+)")}`,"gms"),(t,n)=>this.templatingStrings[n])}storeScripts(e){let t=this.scripts.push(e)-1;return this.getScriptPlaceholder(t)}storeTemplatingString(e){let t=this.templatingStrings.push(e)-1;return this.getTemplatingStringPlaceholder(t)}getScriptPlaceholder(e){return H.default.replace("<blade___scripts_#___ />","#",e)}getTemplatingStringPlaceholder(e){return H.default.replace("___templating_str_#___","#",e)}};var Fr=p(require("detect-indent"),1),Ot=p(require("js-beautify"),1),K=p(require("lodash"),1);var we=class extends h{constructor(){super(...arguments);this.shorthandBindings=[]}async preProcess(e){return await this.preserveShorthandBinding(e)}async postProcess(e){return await this.restoreShorthandBinding(e)}async preserveShorthandBinding(e){return K.default.replace(e,/(?<=<(?!livewire:)[^<]*?(\s|x-bind)):{1}(?<!=>)[\w\-_.]*?=(["'])(?!=>)[^\2]*?\2(?=[^>]*?\/*?>)/gim,t=>`${this.storeShorthandBinding(t)}`)}async restoreShorthandBinding(e){return K.default.replace(e,new RegExp(`${this.getShorthandBindingPlaceholder("(\\d+)")}`,"gms"),(t,n)=>{var m;let i=this.getShorthandBindingPlaceholder(n),o=(m=e.match(new RegExp(`^(.*?)${i}`,"gmi")))!=null?m:[""],a=(0,Fr.default)(o[0]),c=this.shorthandBindings[n],l=K.default.replace(c,/(:{1,2}.*?=)(["'])(.*?)(?=\2)/gis,(d,u,g,y)=>{let x={wrap_line_length:this.formatter.wrapLineLength-a.amount,brace_style:"preserve-inline"};if(y===""||y.includes("->"))return d;if(b(y))try{return`${u}${g}${Ot.default.js_beautify(y.trim(),x).trim()}`}catch{return`${u}${g}${y.trim()}`}return`${u}${g}${Ot.default.js_beautify(y.trim(),x).trim()}`});return`${M(a.indent,l,this.formatter)}`})}storeShorthandBinding(e){let t=this.shorthandBindings.push(e)-1;return this.getShorthandBindingPlaceholder(t.toString(),e.length)}getShorthandBindingPlaceholder(e,t=0){if(t&&t>0){let i=t-"___short_binding_#___".length;return K.default.replace(`___short_binding_${K.default.repeat("_",i>0?i:1)}#___`,"#",e)}return K.default.replace("___short_binding_+?#___","#",e)}};var Wt=require("html-attribute-sorter"),ze=p(require("lodash"),1);var Ne=class extends h{constructor(){super(...arguments);this.bladeComments=[]}async preProcess(e){return await this.sortHtmlAttribute(e)}async postProcess(e){}async sortHtmlAttribute(e){var n;let t=(n=this.formatter.options.sortHtmlAttributes)!=null?n:"none";if(!ze.default.isEmpty(t)&&t!=="none"){let i=this.formatter.options.customHtmlAttributesOrder;if(ze.default.isArray(i))return(0,Wt.sortAttributes)(e,{order:t,customRegexes:i});let o=ze.default.chain(i).split(",").map(ze.default.trim).value();return(0,Wt.sortAttributes)(e,{order:t,customRegexes:o})}return e}};var dt=require("@shufo/tailwindcss-class-sorter"),Ht=p(require("lodash"),1);var Me=class extends h{async preProcess(r){return await this.sortTailwindClasses(r)}async postProcess(r){}async sortTailwindClasses(r){return this.formatter.options.sortTailwindcssClasses?Ht.default.replace(r,/(?<=\s+(?!:)class\s*=\s*([\"\']))(.*?)(?=\1)/gis,(e,t,n)=>{if(Ht.default.isEmpty(n))return n;if(this.formatter.options.tailwindcssConfigPath){let i={tailwindConfigPath:this.formatter.options.tailwindcssConfigPath};return(0,dt.sortClasses)(n,i)}if(this.formatter.options.tailwindcssConfig){let i={tailwindConfig:this.formatter.options.tailwindcssConfig};return(0,dt.sortClasses)(n,i)}return(0,dt.sortClasses)(n)}):r}};var ut=p(require("lodash"),1);var Pe=class extends h{constructor(){super(...arguments);this.unbalancedDirectives=[]}async preProcess(e){return await this.preserveUnbalancedDirective(e)}async postProcess(e){return await this.restoreUnbalancedDirective(e)}async preserveUnbalancedDirective(e){let t=new RegExp(`((${q.join("|")})(?!.*?\\2)(?:\\s|\\(.*?\\)))+(?=.*?@endif)`,"gis"),n=ut.default.replace(e,t,(i,o)=>`${this.storeUnbalancedDirective(o)}`);return t.test(n)&&(n=await this.preserveUnbalancedDirective(n)),n}async restoreUnbalancedDirective(e){return new Promise(t=>t(e)).then(t=>ut.default.replace(t,/@if \(unbalanced___(\d+)___\)/gms,(n,i)=>this.unbalancedDirectives[i]))}storeUnbalancedDirective(e){return this.getUnbalancedDirectivePlaceholder((this.unbalancedDirectives.push(e)-1).toString())}getUnbalancedDirectivePlaceholder(e){return ut.default.replace("@if (unbalanced___#___)","#",e)}};var jr=p(require("detect-indent"),1),gt=p(require("lodash"),1);var ve=class extends h{constructor(){super(...arguments);this.xData=[]}async preProcess(e){return await this.preserveXData(e)}async postProcess(e){return await this.restoreXData(e)}async preserveXData(e){return gt.default.replace(e,/(\s*)x-data="(.*?)"(\s*)/gs,(t,n,i,o)=>`${n}x-data="${this.storeXData(i)}"${o}`)}async restoreXData(e){return gt.default.replace(e,new RegExp(`${this.getXDataPlaceholder("(\\d+)")}`,"gm"),(t,n)=>{var g;let i=this.getXDataPlaceholder(n.toString()),o=(g=e.match(new RegExp(`^(.*?)${i}`,"gmi")))!=null?g:[""],a=(0,jr.default)(o[0]),c=st(this.xData[n]).split(`
`),l=a.amount/(this.formatter.indentCharacter==="	"?4:1),m=c[0],d=this.formatter.indentCharacter.repeat(l<0?0:l),u=c.map(y=>d+y);return u[0]=m,`${u.join(`
`)}`})}storeXData(e){let t=this.xData.push(e)-1;return this.getXDataPlaceholder(t)}getXDataPlaceholder(e){return gt.default.replace("___x_data_#___","#",e)}};var Or=p(require("detect-indent"),1),ft=p(require("lodash"),1);var be=class extends h{constructor(){super(...arguments);this.xInit=[]}async preProcess(e){return await this.preserveXInit(e)}async postProcess(e){return await this.restoreXInit(e)}async preserveXInit(e){return ft.default.replace(e,/(\s*)x-init="(.*?)"(\s*)/gs,(t,n,i,o)=>`${n}x-init="${this.storeXInit(i)}"${o}`)}async restoreXInit(e){return ft.default.replace(e,new RegExp(`${this.getXInitPlaceholder("(\\d+)")}`,"gm"),(t,n)=>{var g;let i=this.getXInitPlaceholder(n.toString()),o=(g=e.match(new RegExp(`^(.*?)${i}`,"gmi")))!=null?g:[""],a=(0,Or.default)(o[0]),c=st(this.xInit[n]).split(`
`),l=a.amount/(this.formatter.indentCharacter==="	"?4:1),m=c[0],d=this.formatter.indentCharacter.repeat(l<0?0:l),u=c.map(y=>d+y);return u[0]=m,`${u.join(`
`)}`})}storeXInit(e){let t=this.xInit.push(e)-1;return this.getXInitPlaceholder(t)}getXInitPlaceholder(e){return ft.default.replace("___x_init_#___","#",e)}};var yt=p(require("lodash"),1);var xe=class extends h{constructor(){super(...arguments);this.xSlot=[]}async preProcess(e){return await this.preserveXslot(e)}async postProcess(e){return await this.restoreXslot(e)}async preserveXslot(e){return yt.default.replace(e,/(?<=<\/?)(x-slot:[\w_\\-]+)(?=(?:[^>]*?[^?])?>)/gm,t=>this.storeXslot(t))}async restoreXslot(e){return yt.default.replace(e,/x-slot\s*--___(\d+)___--/gms,(t,n)=>this.xSlot[n]).replace(/(?<=<x-slot:[\w\_\-]*)\s+(?=\/?>)/gm,()=>"")}storeXslot(e){return this.getXslotPlaceholder((this.xSlot.push(e)-1).toString())}getXslotPlaceholder(e){return yt.default.replace("x-slot --___#___--","#",e)}};var _t=class{constructor(r){this.formatter=r;this.preProcessors=[ce,he,ne,ye,se,je,Z,G,ge,re,ue,me,pe,Y,ee,ie,Pe,Te,_e,Me,be,ve,de,Ne,oe,te,we,xe,ae,We,Oe];this.postProcessors=[ae,xe,we,te,oe,de,ue,ve,be,_e,Pe,ie,ee,Y,pe,me,re,ge,G,Z,se,ye,ne,he,ce,Re];this.processors=[new ce(r),new he(r),new ne(r),new ye(r),new se(r),new je(r),new Z(r),new G(r),new ge(r),new re(r),new ue(r),new me(r),new pe(r),new Y(r),new ee(r),new ie(r),new Pe(r),new Te(r),new _e(r),new Me(r),new be(r),new ve(r),new de(r),new Ne(r),new oe(r),new te(r),new we(r),new xe(r),new ae(r),new We(r),new Oe(r),new Re(r)]}async formatContent(r){let e=await Promise.resolve(r),t=this.processors.filter(i=>this.preProcessors.includes(i.constructor));for(let i of t)e=await i.preProcess(e);let n=this.processors.filter(i=>this.postProcessors.includes(i.constructor));n.sort((i,o)=>this.postProcessors.indexOf(i.constructor)-this.postProcessors.indexOf(o.constructor));for(let i of n)e=await i.postProcess(e);return e}};var $e=class{constructor(r){this.initializeOptions(r),this.initializeProperties()}initializeOptions(r){this.options={noPhpSyntaxCheck:!1,trailingCommaPHP:!r.noTrailingCommaPhp,printWidth:r.wrapLineLength||Pt.defaultPrintWidth,...r},this.vsctm=f(this.options).vsctm||wn,this.oniguruma=f(this.options).oniguruma,this.indentCharacter=f(this.options).useTabs?"	":" ",this.indentSize=f(this.options).indentSize||4,this.wrapLineLength=f(this.options).wrapLineLength||Pt.defaultPrintWidth,this.wrapAttributes=f(this.options).wrapAttributes||"auto",this.endOfLine=dr(f(this.options).endOfLine)}initializeProperties(){this.currentIndentLevel=0,this.shouldBeIndent=!1,this.isInsideCommentBlock=!1,this.stack=[],this.result=[],this.diffs=[],this.defaultPhpFormatOption={noPhpSyntaxCheck:this.options.noPhpSyntaxCheck,printWidth:this.wrapLineLength}}async formatContent(r){let t=await new _t(this).formatContent(r);return await hr(t)}async formatTokenizedLines(r,e){this.result=[],this.stack=[];for(let t=0;t<r.length;t+=1){let n=r[t],i=e[t];await this.processLine(i,n)}return this.result.join(this.endOfLine)}async processLine(r,e){await this.processTokenizeResult(r,e)}async processKeyword(r){if(E.default.includes(J,r)){E.default.last(this.stack)==="@case"&&r==="@case"&&this.decrementIndentLevel(),r==="@case"&&(this.shouldBeIndent=!0),this.stack.push(r);return}if(E.default.last(this.stack)==="@if"&&r==="@break"){this.shouldBeIndent=!1;return}if(E.default.includes(Ke,r)){if(r==="@break"){this.decrementIndentLevel(),this.stack.pop(),this.stack.push(r);return}if(E.default.last(this.stack)!=="@hassection"){this.stack.pop();return}}if(E.default.includes(Qt,r)&&(this.shouldBeIndent=!0,this.stack.push(r)),E.default.includes(Ve,r)&&E.default.includes(Kt,E.default.last(this.stack))&&(this.decrementIndentLevel(),this.shouldBeIndent=!0),E.default.includes(S,r)&&(E.default.last(this.stack)==="@section"&&r==="@section"?(this.currentIndentLevel>0&&this.decrementIndentLevel(),this.shouldBeIndent=!0,this.stack.push(r)):(this.shouldBeIndent=!0,this.stack.push(r))),E.default.includes(D,r)){if(r==="@endswitch"&&E.default.last(this.stack)==="@default"){this.decrementIndentLevel(2),this.shouldBeIndent=!1;return}this.decrementIndentLevel(),this.shouldBeIndent=!1,this.stack.pop()}E.default.includes(k,r)&&(this.decrementIndentLevel(),this.shouldBeIndent=!0)}async processToken(r,e){if(E.default.includes(r.scopes,"punctuation.definition.comment.begin.blade")&&(this.isInsideCommentBlock=!0),this.argumentCheck){let{count:t,inString:n,stack:i,unindentOn:o}=this.argumentCheck;if(!n&&e===")"){if(i.push(e),t[e]+=1,t["("]===t[e]){let a=i.join("");await cr(a,this.options)>=o&&(this.shouldBeIndent=!1),this.argumentCheck=!1}return}i.push(e),n===e?this.argumentCheck.inString=!1:!n&&(e==='"'||e==="'")&&(this.argumentCheck.inString=e),e==="("&&!n&&(t[e]+=1)}E.default.includes(r.scopes,"punctuation.definition.comment.end.blade")&&(this.isInsideCommentBlock=!1),(e==="{{--"||e.includes("{{--"))&&(this.isInsideCommentBlock=!0),(e==="--}}"||e.includes("--}}"))&&(this.isInsideCommentBlock=!1),E.default.includes(r.scopes,"keyword.blade")&&(this.isInsideCommentBlock||(await this.processKeyword(e.toLowerCase()),E.default.includes(Object.keys(vt),e.toLowerCase())&&(this.argumentCheck={unindentOn:vt[e.toLowerCase()],stack:[],inString:!1,count:{"(":0,")":0}})))}async processTokenizeResult(r,e){if(this.shouldBeIndent&&(this.incrementIndentLevel(),this.shouldBeIndent=!1),Gt(r,e)){this.insertFormattedLineToResult(e);return}for(let t=0;t<r.tokens.length;t+=1){let n=r.tokens[t],i=e.substring(n.startIndex,n.endIndex).trim();await this.processToken(n,i)}this.insertFormattedLineToResult(e)}insertFormattedLineToResult(r){let t=(0,Wr.default)(r).amount+this.indentSize*this.currentIndentLevel,n=this.indentCharacter.repeat(t<0?0:t)+r.trim();r.length===0&&this.result.push(r),r.length!==0&&n.length>0&&this.result.push(n),n!==r&&this.diffs.push({original:r,formatted:n})}incrementIndentLevel(r=1){this.currentIndentLevel+=r}decrementIndentLevel(r=1){this.currentIndentLevel-=r}};var zr=p(require("fs"),1),Nr=p(require("path"),1),Mr=p(require("ajv"),1),Xr=p(require("find-config"),1),Pn=new Mr.default,Hr=[".bladeformatterrc.json",".bladeformatterrc"];function Jr(s){for(let r=0;r<Hr.length;r+=1){let e=(0,Xr.default)(Hr[r],{cwd:Nr.default.dirname(s),home:!1});if(e)return e}return null}async function Ur(s){if(s===null)return;let r=JSON.parse((await zr.default.promises.readFile(s)).toString()),e={type:"object",properties:{indentSize:{type:"integer",nullable:!0},wrapLineLength:{type:"integer",nullable:!0},wrapAttributes:{type:"string",enum:["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"],nullable:!0},wrapAttributesMinAttrs:{type:"integer",nullable:!0,default:2},indentInnerHtml:{type:"boolean",nullable:!0},endWithNewline:{type:"boolean",nullable:!0},endOfLine:{type:"string",enum:["LF","CRLF"],nullable:!0},useTabs:{type:"boolean",nullable:!0},sortTailwindcssClasses:{type:"boolean",nullable:!0},tailwindcssConfigPath:{type:"string",nullable:!0},sortHtmlAttributes:{type:"string",enum:["none","alphabetical","code-guide","idiomatic","vuejs","custom"],nullable:!0},customHtmlAttributesOrder:{type:"array",nullable:!0,items:{type:"string"},default:[]},noMultipleEmptyLines:{type:"boolean",nullable:!0},noPhpSyntaxCheck:{type:"boolean",nullable:!0},noSingleQuote:{type:"boolean",nullable:!0},noTrailingCommaPhp:{type:"boolean",nullable:!0},extraLiners:{type:"array",nullable:!0,items:{type:"string"},default:["head","body","/html"]},componentPrefix:{type:"array",nullable:!0,items:{type:"string"},default:["x-","livewire:"]}},additionalProperties:!0},t=Pn.compile(e);if(!t(r))throw t;return r}var Xe=class Xe{constructor(r={},e=[]){this.diffs=[];this.errors=[];this.formattedFiles=[];this.ignoreFile="";this.outputs=[];this.currentTargetPath=".";this.paths=[];this.targetFiles=[];this.fulFillFiles=[];this.runtimeConfigCache={};var t;this.options=r,this.paths=e,this.runtimeConfigPath=(t=r.runtimeConfigPath)!=null?t:null}async format(r,e={}){this.options=this.options||e;let t=X.default.resolve(P.default.cwd(),"target");return await this.readIgnoreFile(t),await this.findTailwindConfig(t),await this.readRuntimeConfig(t),new $e(this.options).formatContent(r).catch(n=>{throw new Be(n)})}async formatFromCLI(){try{this.printPreamble(),await this.readIgnoreFile(P.default.cwd()),await this.processPaths(),this.printResults()}catch{}}fileExists(r){return Se.default.promises.access(r,Se.default.constants.F_OK).then(()=>!0).catch(()=>!1)}async readIgnoreFile(r){let e=".bladeignore",t=X.default.dirname(r),n=this.options.ignoreFilePath||(0,Nt.default)(e,{cwd:t});if(n)try{this.ignoreFile=(await Se.default.promises.readFile(n)).toString()}catch{}}async findTailwindConfig(r){if(!this.options.sortTailwindcssClasses)return;let e="tailwind.config.js",t;if(this.options.tailwindcssConfigPath){let n=this.runtimeConfigPath?X.default.dirname(this.runtimeConfigPath):"";t=X.default.resolve(n,this.options.tailwindcssConfigPath)}else{let n=X.default.dirname(r);t=(0,Nt.default)(e,{cwd:n})}t&&(this.options.tailwindcssConfigPath=t)}async readRuntimeConfig(r){z.default.isEmpty(this.runtimeConfigCache)||(this.options=z.default.merge(this.options,this.runtimeConfigCache));let e=this.options.runtimeConfigPath||Jr(r);if(e){this.runtimeConfigPath=e;try{let t=await Ur(e);this.options=z.default.mergeWith(this.options,t,(n,i)=>z.default.isNil(i)?n:i),this.runtimeConfigCache=this.options,this.options.sortTailwindcssClasses&&await this.findTailwindConfig(r)}catch(t){this.handleConfigError(e,t)}}}handleConfigError(r,e){var t,n;e instanceof SyntaxError&&(P.default.stdout.write(L.default.red.bold(`
Blade Formatter JSON Syntax Error: 

`)),P.default.stdout.write(zt.default.format(e)),P.default.exit(1)),P.default.stdout.write(L.default.red.bold(`
Blade Formatter Config Error: ${X.default.basename(r)}

`)),P.default.stdout.write(`\`${e.errors[0].instancePath.replace("/","")}\` ${e.errors[0].message}

`),(t=e.errors[0].params)!=null&&t.allowedValues&&console.log((n=e.errors[0].params)==null?void 0:n.allowedValues),P.default.exit(1)}async processPaths(){await Promise.all(this.paths.map(async r=>this.processPath(r)))}async processPath(r){let e=await Xe.globFiles(r).then(t=>t.map(n=>X.default.relative(".",n))).then(t=>this.filterFiles(t)).then(this.fulFillFiles);await this.formatFiles(e)}static globFiles(r){return(0,Vr.glob)(r)}async filterFiles(r){if(this.ignoreFile==="")return r;let e=/^\.\.*/,t=r.filter(o=>e.test(X.default.relative(".",o))),n=z.default.xor(r,t),i=(0,Kr.default)().add(this.ignoreFile).filter(n);return z.default.concat(t,i)}static fulFillFiles(r){return Xe.targetFiles.push(r),Promise.resolve(r)}async formatFiles(r){await Promise.all(r.map(async e=>this.formatFile(e)))}async formatFile(r){await this.findTailwindConfig(r),await this.readRuntimeConfig(r);try{let e=await Ge(r).then(n=>n.toString("utf-8")),t=await new $e(this.options).formatContent(e);await this.checkFormatted(r,t),await this.writeToFile(r,t)}catch(e){this.handleError(r,e)}}async checkFormatted(r,e){this.printFormattedOutput(r,e);let t=Se.default.readFileSync(r,"utf-8"),n=et(t),i=et(e),o=pr(r,n,i);return this.diffs.push(o),this.outputs.push(e),o.length>0?((this.options.progress||this.options.write)&&P.default.stdout.write(L.default.green("F")),this.options.checkFormatted&&(P.default.stdout.write(`${r}
`),P.default.exitCode=1),this.formattedFiles.push(r)):(this.options.progress||this.options.write)&&P.default.stdout.write(L.default.green(".")),Promise.resolve(e)}printFormattedOutput(r,e){if(this.options.write||this.options.checkFormatted)return;P.default.stdout.write(`${e}`),!(z.default.last(this.paths)===r||z.default.last(this.targetFiles)===r)&&(this.paths.length>1||this.targetFiles.length>1)&&P.default.stdout.write(`
`)}writeToFile(r,e){!this.options.write||this.options.checkFormatted||!e||z.default.isEmpty(e)||Se.default.writeFile(r,e,t=>{t&&(P.default.stdout.write(`${L.default.red(t.message)}
`),P.default.exit(1))})}handleError(r,e){(this.options.progress||this.options.write)&&P.default.stdout.write(L.default.red("E")),P.default.exitCode=1,this.errors.push({path:r,message:e.message,error:e})}printPreamble(){this.options.checkFormatted&&P.default.stdout.write(`Check formatting... 
`)}async printResults(){this.printDescription(),this.printDifferences(),this.printFormattedFiles(),this.printErrors()}printDescription(){this.options.write&&(P.default.stdout.write(`

`),P.default.stdout.write(L.default.bold.green(`Fixed: F
`)),P.default.stdout.write(L.default.bold.red(`Errors: E
`)),P.default.stdout.write(L.default.bold("Not Changed: ")+L.default.bold.green(`.
`)))}printFormattedFiles(){if(this.formattedFiles.length===0){this.options.checkFormatted&&P.default.stdout.write(L.default.bold(`
All matched files are formatted! 
`));return}if(!this.options.write){this.options.checkFormatted&&P.default.stdout.write(`
Above file(s) are formattable. Forgot to run formatter? Use ${L.default.bold("--write")} option to overwrite.
`);return}P.default.stdout.write(L.default.bold(`
Formatted Files: 
`));for(let r of this.formattedFiles)P.default.stdout.write(`${L.default.bold(r)}
`)}printDifferences(){if(this.options.diff){if(P.default.stdout.write(L.default.bold(`
Differences: 

`)),this.diffs.every(r=>r.length===0)){P.default.stdout.write((0,L.default)(`No changes found. 

`));return}for(let r of this.diffs)lr(r)}}printErrors(){if(!z.default.isEmpty(this.errors)){P.default.stdout.write(L.default.red.bold(`
Errors: 

`));for(let r of this.errors)P.default.stdout.write(`${zt.default.format(r)}
`)}}};Xe.targetFiles=[];var Je=Xe;async function tn(){let s=await(0,Gr.default)((0,en.hideBin)(process.argv)).usage(`${Ce.default.green(wt)} ${Jt}
An opinionated blade template formatter for Laravel. 

 ${Ce.default.yellow("Usage:")} $0 [options] [file glob | ...]`).wrap(null).example('$0 "resources/views/**/*.blade.php" --write',"Format all files in views directory").option("check-formatted",{alias:"c",type:"boolean",description:"Only checks files are formatted or not",default:!1}).option("write",{alias:"w",type:"boolean",description:"Write to file",default:!1}).option("diff",{alias:"d",type:"boolean",description:"Show diffs",default:!1}).option("end-with-newline",{alias:"e",type:"boolean",description:"End output with newline",default:!0}).option("end-of-line",{type:"string",description:"End of line character(s). [LF|CRLF]",default:Yr.default.EOL===`\r
`?"CRLF":"LF"}).option("indent-size",{alias:"i",type:"integer",description:"Indentation size",default:4}).option("wrap-line-length",{alias:"wrap",type:"integer",description:"The length of line wrap size",default:120}).option("wrap-attributes",{alias:"wrap-atts",type:"string",description:`The way to wrap attributes.
[auto|force|force-aligned|force-expand-multiline|aligned-multiple|preserve|preserve-aligned]`,default:"auto"}).option("wrap-attributes-min-attrs",{type:"integer",alias:"M",description:"Minimum number of html tag attributes for force wrap attribute options. Wrap the first attribute only if 'force-expand-multiline' is specified in wrap attributes",default:"2"}).option("indent-inner-html",{alias:"I",type:"boolean",description:"Indent <head> and <body> sections in html.",default:!1}).option("sort-tailwindcss-classes",{alias:"sort-classes",type:"boolean",description:"Sort tailwindcss classes",default:!1}).option("tailwindcss-config-path",{alias:["tailwindcssConfigPath"],type:"string",description:"Specify path of tailwind config",default:null}).option("sort-html-attributes",{alias:"sort-attributes",type:"string",choices:["none","alphabetical","code-guide","idiomatic","vuejs","custom"],description:"Sort HTML attributes.",default:"none",defaultDescription:"none"}).option("custom-html-attributes-order",{type:"string",description:"Comma separated custom HTML attributes order. To enable this you must specify sort html attributes option as `custom`. You can use regex for attribute names.",default:null}).option("no-single-quote",{type:"boolean",description:"Use double quotes instead of single quotes for php expression.",default:!1}).option("single-quote",{type:"boolean",description:"this is a workaround for combine strict && boolean option",hidden:!0,default:!0}).option("extra-liners",{alias:"E",type:"string",description:"Comma separated list of tags that should have an extra newline before them.",default:"head,body,/html",nullable:!0,coerce(n){return Ie.default.flatten(Ie.default.flatten([n]).map(i=>i.split(",")))}}).option("component-prefix",{alias:"P",type:"string",description:"Component prefix use to preserve style in html attributes.",default:"x-,livewire:",nullable:!0,coerce(n){return Ie.default.flatten(Ie.default.flatten([n]).map(i=>i.split(",")))}}).option("no-multiple-empty-lines",{type:"boolean",description:"Merge multiple blank lines into a single blank line",default:!1}).option("multiple-empty-lines",{type:"boolean",description:"this is a workaround for combine strict && boolean option",hidden:!0,default:!0}).option("no-php-syntax-check",{type:"boolean",description:"Disable PHP syntax checking",default:!1}).option("php-syntax-check",{type:"boolean",description:"this is a workaround for combine strict && boolean option",hidden:!0,default:!0}).option("no-trailing-comma-php",{type:"boolean",description:"If set to true, no trailing commas are printed for php expression.",default:!1}).option("trailing-comma-php",{type:"boolean",description:"this is a workaround for combine strict && boolean option",hidden:!0,default:!0}).option("php-version",{type:"string",description:"Allows specifying the PHP version you're using",default:"8.4"}).option("progress",{alias:"p",type:"boolean",description:"Print progress",default:!1}).option("stdin",{type:"boolean",description:"Format code provided on <STDIN>",default:!1}).option("config",{alias:["runtimeConfigPath"],type:"string",description:"Use this configuration, overriding .bladeformatterrc config options if present",default:null}).option("ignore-path",{alias:["ignoreFilePath"],type:"string",description:"Specify path of ignore file",default:null}).help("h").alias("h","help").strictOptions().fail((n,i)=>{if(i)throw i;process.stdout.write(`${Ce.default.red("error: ")}${n}

`),process.stdout.write(`${Ce.default.yellow("Usage: ")} ${wt} [options] [file glob | ...]

`),process.stdout.write(`For more information try ${Ce.default.green("--help")}
`),process.exit(1)}).epilog(`Copyright Shuhei Hayashibara 2022
For more information, see https://github.com/shufo/blade-formatter`),r=await Zr.promises.readFile(require.resolve("vscode-oniguruma/release/onig.wasm"));await(0,qr.loadWASM)(r.buffer);let e=Ie.default.chain(s.argv).set("noMultipleEmptyLines",!s.argv.multipleEmptyLines).set("noPhpSyntaxCheck",!s.argv.phpSyntaxCheck).set("noSingleQuote",!s.argv.singleQuote).set("noTrailingCommaPhp",!s.argv.trailingCommaPhp).value();if(s.argv.stdin){await process.stdin.pipe((0,Qr.default)({encoding:"string"},n=>new Je(e).format(n).then(i=>{i!==void 0&&process.stdout.write(i)}).catch(i=>{process.stdout.write(`${i.toString()}
`),process.exit(1)})));return}if(s.argv._.length===0){s.showHelp();return}await new Je(e,s.argv._).formatFromCLI()}
//# sourceMappingURL=cli-bundle.cjs.map
